<!DOCTYPE html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <style>
        :root{--mono-font: San Francisco Mono, Monaco, "Consolas", "Lucida Console",
            "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace;--sans-font: -apple-system, BlinkMacSystemFont, "avenir next", avenir,
            helvetica, "helvetica neue", ubuntu, roboto, noto, "segoe ui", arial,
            sans-serif}body{margin:0 auto;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.6;font-size:1rem;font-family:var(--sans-font)}.only-print{display:none}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}a:visited{color:#333}p,ul{margin:1rem 0}ul ul{margin:0}iframe{border:0}.small,small{font-size:14px}body,h1 a{color:#111}h1,h2{margin-bottom:.5rem;line-height:1.25;font-weight:600}h1{font-size:32px;letter-spacing:.004em}h2{font-size:1.5rem;letter-spacing:.009em}.limiter{max-width:640px;padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto}.pad2y{padding-top:20px;padding-bottom:20px}@media screen and (max-width:640px){.limiter{width:auto}}@media screen and (min-width:640px){.nu a{text-decoration:none}.nu a:hover{text-decoration:underline}}@media screen and (max-width:1024px){.header-wrap{border-bottom:1px solid #000;padding-bottom:20px}}@media screen and (min-width:1025px){.header{position:absolute;top:40px;right:50%;margin-right:340px!important;letter-spacing:-.009em}.content h1:first-child{margin-top:0}}@media print{.no-print{display:none}.only-print{display:block}body{margin:0}.limiter{max-width:100%!important;margin:0!important;padding:0!important}}.s{color:#d01040}.writing time{padding-right: .25em;color: #333;font-variant-numeric: tabular-nums;letter-spacing: -.012em;white-space: pre;}.writing {display: grid;grid-column-gap: 5px;grid-row-gap: 5px;grid-template-columns: 1fr min-content;}
    </style>
    <title>KStreams remove member tool - loteroc@gmail.com</title>
    <link href=https://maqroll.github.io/works/bepp/index.html rel=canonical>
</head>

<body>
    
    <div class=pad2y style=position:relative>
        <nav class=header-wrap>
            <div class="header nu limiter no-print">
                <h1 style="line-height:1.6;font-size:1rem;margin:0 0 0.25em 0;">loteroc@gmail.com</h1>
                <ul style=list-style:none;padding:0;margin:0;>
                    
                    <li><a href=/>Works</a></li>
                    <li><a href=/notes>Notes</a>â‡ </li>
                </ul>
            </div>
        </nav>
<div class="pad2y limiter content">
	<h1>KStreams remove member tool</h1>
	<div class="body">
		<p><a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-345%3A+Introduce+static+membership+protocol+to+reduce+consumer+rebalances">KIP-345</a> introduced static membership.</p>
<p>In <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-345%3A+Introduce+static+membership+protocol+to+reduce+consumer+rebalances#KIP345:Introducestaticmembershipprotocoltoreduceconsumerrebalances-FutureWorks">future works</a> section it&rsquo;s discussed the convenience of adding a new tool to remove instances from the group. Static membership doesn&rsquo;t remove a member from the group until session timeout expires (usually a long time).</p>
<p>It&rsquo;s been a while since static membership is around but that tool never made it.</p>
<p>We miss it so many times that we set up a <a href="https://github.com/maqroll/RemoveGroupMember">quick solution</a>.</p>
<p>Help option will show you</p>
<pre><code>This tool helps to quickly remove instances from a running Kafka Streams app.
Option (* = required)               Description                                
---------------------               -----------                                
* --application-id &lt;String: id&gt;     The Kafka Streams application ID           
                                      (application.id).                        
--bootstrap-servers &lt;String: urls&gt;  Comma-separated list of broker urls with   
                                      format: HOST1:PORT1,HOST2:PORT2 (default:
                                      localhost:9092)                          
--config-file &lt;String: file name&gt;   Property file containing configs to be     
                                      passed to admin clients and embedded     
                                      consumer.                                
--execute &lt;Boolean: execute&gt;        Set this flag to true to execute remove    
                                      command. Otherwise just will inform you  
                                      of the result. (default: false)          
--help                              Print usage information.                   
--instance-ids &lt;String: list&gt;       Comma-separated list of instance ids. The  
                                      tool will remove this instances from the 
                                      list of members of the consumer group.   
--prefix-keep &lt;String: prefix&gt;      Remove all instances whose id doesn't match
                                      this prefix                              
--version                           Print version information and exit.        
</code></pre><p>Unless you set <code>execute</code> parameter to true, it wouldn&rsquo;t do anything.</p>
<p>Both <code>instance-ids</code> and <code>prefix-keep</code> let you set up the instances to remove.</p>
<p>Running the tool without setting up a set of instances to remove will show you current instances.</p>

	</div>
</div>
    </div>
</body>

</html>